const startButton=document.querySelector(".new-game__buttons"),newGameBlock=document.querySelector(".new-game__block"),gameBlock=document.querySelector(".game-block"),categoriesTitleBlock=document.querySelector(".game-block__categories-title"),gameTimer=document.querySelector(".game-block__timer"),gameOverBlock=document.querySelector(".game-over"),gameOverButton=document.querySelector(".game-over__button"),choosenLangBegin=document.querySelector("#chooseLang"),randomCategoryBtn=document.querySelector(".random__category_btn"),audioTimeout=document.querySelector("#audio-timeout"),audioCountdownStart=document.querySelector("#audio-countdown-start"),audioCountdownEnd=document.querySelector("#audio-countdown-end"),gameOverIcon=document.querySelector(".game-over__icon"),categoriesBlock=document.querySelector(".new-game__categories");let arrayLetters,usedLetter=[];function createLetters(e=!1){const t=document.querySelector("#chooseLang").value,o=document.querySelector(".game-block__letters"),r=[];let a,n;"UA"==t?(a=1040,n=1065):"ENG"==t&&(a=65,n=91),o.innerHTML="";for(let t=a;t<n;t++)if(1048!=t&&(e&&r.push(String.fromCharCode(t)),!e)){let e=document.createElement("button");e.classList.add("letter"),e.textContent=String.fromCharCode(t),o.appendChild(e)}if(e)return r}function timer(e,t){let o=e;let r=setInterval((function(){0==o&&(gameOverBlock.classList.add("active"),gameOverIcon.classList.add("active"),audioTimeout.play(),clearInterval(r)),3!=o&&2!=o||audioCountdownStart.play(),1==o&&audioCountdownEnd.play(),o>9?gameTimer.innerHTML="00:"+o--:o<10&&(gameTimer.innerHTML="00:0"+o--)}),1e3);document.querySelectorAll(t).forEach((t=>{t.addEventListener("click",(t=>{o=e,t.target.classList.add("active"),t.target.classList.contains("letter")&&(t.target.disabled=!0),setTimeout((()=>{t.target.classList.remove("active")}),100)}))}))}function randomLetter(e){let t=Math.floor(0+Math.random()*(arrayLetters.length-2+1-0));if(0==usedLetter.length)return e.textContent=arrayLetters[t],void usedLetter.push(arrayLetters[t]);arrayLetters=arrayLetters.filter((e=>!usedLetter.includes(e))),e.textContent=arrayLetters[t],usedLetter.push(arrayLetters[t])}function haveChoosenLang(){const e=document.querySelector("#chooseLang").value;return console.log(),!!e}categoryList.length>0&&categoryList.forEach((e=>{reserveItem=e,e=e[0].toUpperCase(),e+=reserveItem.slice(1);const t=document.createElement("option");t.value=e,t.textContent=e,categoriesBlock.appendChild(t)})),startButton.addEventListener("click",(e=>{if(!haveChoosenLang())return;let t=document.querySelector("#chooseTime").value;const o=document.querySelector(".new-game__categories").value;if(categoriesTitleBlock.textContent="Категорія: "+o,newGameBlock.classList.add("hide"),gameBlock.classList.add("active"),e.target.classList.contains("new-game__all_letter"))createLetters(),timer(t,".letter");else if(e.target.classList.contains("new-game__random_letter")){arrayLetters=createLetters(!0);const e=document.querySelector(".game-block__letters");let o=document.createElement("button");o.classList.add("letter-big"),e.appendChild(o),randomLetter(o),timer(t,".letter-big"),o.addEventListener("click",(e=>{randomLetter(e.target)}))}})),choosenLangBegin.value=localStorage.getItem("choosenLang"),choosenLangBegin.addEventListener("change",(e=>{localStorage.setItem("choosenLang",e.target.value)})),randomCategoryBtn.addEventListener("click",(e=>{const t=document.querySelectorAll(".new-game__categories option");let o=t.length-1;t[Math.floor(0+Math.random()*(o+1-0))].selected="true"})),gameOverButton.addEventListener("click",(e=>{gameOverBlock.classList.remove("active"),gameBlock.classList.remove("active"),newGameBlock.classList.remove("hide"),gameOverIcon.classList.remove("active"),usedLetter=[]}));